# Microsha

Реализация командной оболочки Unix (Unix shell) с использованием команд папки /usr/bin.

## Папки

<pre>

1. ./ :
    * misha.cc          реализация функции main() --- основа работы оболочки;
    * misha             бинарный файл, полученный компиляцией, описанной ниже;
    * misha_valgrind    бинарный файл, предназначенный для отладки c программой valgrind;
    * misha_fsanitize   бинарный файл, предназначенный для отладки;
    * Makefile          предназначен для команды make;
    * ./func            папка, содержащая реализацию функций проекта;
    * ./bin             папка, содержащая бинарные файлы.

2. ./func:
    * config.cc         "библиотека" проекта;
    * conv.cc           реализация конвейера;
    * direct.cc         реализация перенаправления потока ввода-вывода;   
    * echo.c            реализация команды echo;
    * pattern.cc        реализация обработки шаблонов "*" и "?";
    * pwd.c             реализация команды pwd;
    * time.cc           реализация команды time.

3. ./bin:
    * Бинарные файлы, полученные компиляцией файлов из папки func.

</pre>

## Компиляция

с использованием команды make:

<pre>
make misha_compile

make binaries_compile
</pre>   

или вручную:

<pre>
c++ misha.cc -g -o misha_valgrind

c++ misha.cc -g -fsanitize=address -o misha_fsanitize

c++ misha.cc -o misha

c++ [-Wall -Wextra] file_name.cc -o file_name

gcc [-Wall -Wextra] file_name.c  -o file_name
</pre>

`[-Wall -Wextra]` --- после переписания кода (для проверки на ошибки).

## Предупреждение

Пожалуйста, запускайте исполняемые файлы `misha_valgrind`, `misha_fsanitize` и `misha` в папке `./` (в той, где находится папка `bin`). Иначе misha не сможет правильно прочитать путь до папки и, как следствие, правильно выполниться.

## Теория

Бинарные файлы из папок `/usr/bin` и `./bin` запускаются с помощью функций семейства exec. Описания этого семества доступно в терминале при использовании команды

    man 3 exec

## Версии

==1.0.0== 
* реализация time.c; 
* исправлены ошибки чтения пути до ./bin в программе conv.

==1.0.1== 
* исправлены ошибки в time.c -> time.cc. Теперь программа выполняется с функцией _execute().

==1.0.2==
* исправлена функция walk() в файле ./func/pattern.cc. Теперь она не выводит ошибки на экран.

==1.0.3==
* исправлен порядок выполнения команд в _execute(). Теперь * обрабатывается самой первой.
* исправлен способ ожидания процессов в pattern.cc.

==1.0.4==
* исправлена ошибка обработки *.
* добавлены новые сообщения при обработке исключений.

==1.0.5==
* изменён порядок запуска в _execute().
* запуск бинарных файлов перенесён в direct_process().

==1.0.6==
* изменена функция pattern_process(). Добавлен флаг для конкатенации "./".
* изменена функция join(). Добавлен новый флаг.
